{"version":3,"sources":["webpack:///webpack/bootstrap 09b1b242f66e113a0bf4","webpack:///./map_setup.js","webpack:///./zip_finder.js","webpack:///./entry.js"],"names":["initMap","map","google","maps","Map","document","getElementById","zoom","center","lat","lng","geocoder","Geocoder","data","loadGeoJson","setStyle","color","feature","f","party","fillColor","strokeWeight","infowindow","InfoWindow","addListener","event","setPosition","latLng","setContent","open","window","retrieveDistrict","$","ajax","method","url","zip","success","appendResults","res","jsonResults","query","results","json","districtText","count","result","text","state","district","resultArr","html","districtList","forEach","append","submit","e","preventDefault","target","value"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 09b1b242f66e113a0bf4","\n\n  function initMap() {\n    const map = new google.maps.Map(document.getElementById('map'), {\n      zoom: 4,\n      center: {lat: 37.0902, lng: -95.71}\n    });\n    const geocoder = new google.maps.Geocoder();\n\n\n  map.data.loadGeoJson('https://raw.githubusercontent.com/madrev/sister_district_sandbox/master/reps_added.json');\n\n  map.data.setStyle( feature => {\n    let color = 'gray';\n    if(feature.f[\"REP\"]) {\n      if(feature.f[\"REP\"].party === \"D\") {\n        color=\"blue\";\n      } else if(feature.f[\"REP\"].party === \"R\"){\n        color=\"red\";\n      }\n    }\n    return{\n      fillColor: color,\n      strokeWeight: 0.35\n  };\n  });\n\n  const infowindow = new google.maps.InfoWindow;\n\n  map.data.addListener('click', function(event) {\n      infowindow.setPosition(event.latLng);\n      infowindow.setContent(`${event.feature.f[\"STATE\"]}, ${event.feature.f[\"CD115FP\"]}`);\n      infowindow.open(map);\n    });\n  }\n\n  window.initMap = initMap;\n\n  export default initMap;\n\n\n\n// WEBPACK FOOTER //\n// ./map_setup.js","\n\nconst retrieveDistrict = zip => (\n    $.ajax({\n      method: \"GET\",\n      url: `https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20json%20where%20url%3D%22https%3A%2F%2Fcongress.api.sunlightfoundation.com%2Fdistricts%2Flocate%3Fzip%3D${zip}%22&format=json&diagnostics=true&callback=`,\n      success: res => appendResults(res)\n    })\n  );\n\n  // const geocode = zip => {\n  //   geocoder.geocode({'address': zip}, res => console.log(res));\n  // };\n\n  const appendResults = res => {\n    let jsonResults = res.query.results.json;\n    let districtText;\n\n    if(jsonResults.count === \"1\") {\n      let result = jsonResults.results;\n      districtText = $(\"<p class='district-text'></p>\").text(`Your district is ${result.state}-${result.district}.`);\n    } else if(jsonResults.count === \"0\") {\n      districtText = $(\"<p></p>\").text(`We couldn't find districts for that ZIP code. Please check your entry and try again.`);\n    } else {\n      let resultArr = jsonResults.results;\n      districtText = $(\"<div></div>\").html(`\n        <p>Your ZIP code crosses multiple districts:</p>\n      `);\n      let districtList = $(\"<ul></ul>\");\n      resultArr.forEach(result => districtList.append(`<li>${result.state}-${result.district}</li>`));\n      districtText.append(districtList);\n    }\n\n    $(\"#district-results\").html(districtText);\n  };\n\n  export default retrieveDistrict;\n\n\n\n// WEBPACK FOOTER //\n// ./zip_finder.js","import initMap from \"./map_setup.js\";\nimport retrieveDistrict from \"./zip_finder.js\";\n\n\n$( () => {\n  var initMap;\n  $(\"form\").submit((e) => {\n      e.preventDefault();\n      let zip = e.target.zip.value;\n      // geocode(zip);\n      retrieveDistrict(zip);\n    });\n  });\n\n\n\n// WEBPACK FOOTER //\n// ./entry.js"],"sourceRoot":""}