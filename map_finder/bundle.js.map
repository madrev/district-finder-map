{"version":3,"sources":["webpack:///webpack/bootstrap 1f01f94258f1fc812757","webpack:///./map_setup.js","webpack:///./rep_display.js","webpack:///./zip_finder.js","webpack:///./entry.js"],"names":["hideOverlay","window","setTimeout","$","remove","map","initMap","google","maps","Map","document","getElementById","zoom","center","lat","lng","mapTypeControl","dataUrl","data","loadGeoJson","setStyle","color","feature","f","party","fillColor","strokeWeight","infowindow","InfoWindow","addListener","event","districtNum","districtType","setPosition","latLng","setContent","open","zoomTo","loc","LatLng","setCenter","setZoom","geocoder","Geocoder","geocode","zip","res","geometry","location","displayRep","text","rep","first_name","last_name","html","phone","website","twitter_id","removeClass","addClass","hideRep","retrieveDistrict","ajax","method","url","success","appendResults","jsonResults","query","results","json","districtText","count","result","state","district","resultArr","districtList","forEach","append","mapReferenceText","hideResults","submit","e","preventDefault","target","value","String"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;AChEA;;AACA;;AAEA,IAAMA,cAAc,SAAdA,WAAc,GAAM;AACxBC,SAAOC,UAAP,CAAmB;AAAA,WAAMC,EAAE,UAAF,EAAcC,MAAd,EAAN;AAAA,GAAnB,EAAiD,IAAjD;AACD,CAFD;;AAIA,IAAIC,YAAJ;;AAEO,IAAMC,4BAAU,SAAVA,OAAU,GAAM;AAC3BD,QAAM,IAAIE,OAAOC,IAAP,CAAYC,GAAhB,CAAoBC,SAASC,cAAT,CAAwB,KAAxB,CAApB,EAAoD;AACxDC,UAAM,CADkD;AAExDC,YAAQ,EAACC,KAAK,OAAN,EAAeC,KAAK,CAAC,KAArB,EAFgD;AAGxDC,oBAAgB;AAHwC,GAApD,CAAN;;AAMA,MAAIC,UAAU,yFAAd;AACAZ,MAAIa,IAAJ,CAASC,WAAT,CAAqBF,OAArB,EAA8B,IAA9B,EAAoCjB,WAApC;;AAEAK,MAAIa,IAAJ,CAASE,QAAT,CAAmB,mBAAW;AAC5B,QAAIC,QAAQ,MAAZ;AACA,QAAGC,QAAQC,CAAR,CAAU,KAAV,CAAH,EAAqB;AACnB,UAAGD,QAAQC,CAAR,CAAU,KAAV,EAAiBC,KAAjB,KAA2B,GAA9B,EAAmC;AACjCH,gBAAM,MAAN;AACD,OAFD,MAEO,IAAGC,QAAQC,CAAR,CAAU,KAAV,EAAiBC,KAAjB,KAA2B,GAA9B,EAAkC;AACvCH,gBAAM,KAAN;AACD;AACF;AACD,WAAO;AACLI,iBAAWJ,KADN;AAELK,oBAAc;AAFT,KAAP;AAID,GAbD;;AAeA,MAAMC,aAAa,IAAIpB,OAAOC,IAAP,CAAYoB,UAAhB,EAAnB;;AAEAvB,MAAIa,IAAJ,CAASW,WAAT,CAAqB,OAArB,EAA8B,UAASC,KAAT,EAAgB;AAC9C7B,WAAOqB,OAAP,GAAiBQ,MAAMR,OAAvB;AACA,QAAIS,cAAcD,MAAMR,OAAN,CAAcC,CAAd,CAAgB,SAAhB,CAAlB;AACA,QAAIS,eAAgBD,eAAe,IAAf,GAAsB,UAAtB,iBAA+CA,WAAnE;AACAJ,eAAWM,WAAX,CAAuBH,MAAMI,MAA7B;AACAP,eAAWQ,UAAX,CAAyBL,MAAMR,OAAN,CAAcC,CAAd,CAAgB,OAAhB,CAAzB,SAAqDS,YAArD;AACAL,eAAWS,IAAX,CAAgB/B,GAAhB;AACA,iCAAWyB,MAAMR,OAAN,CAAcC,CAAd,CAAgB,KAAhB,CAAX;AACA;AACC,GATD;AAYD,CAvCM;;AAyCP,IAAMc,SAAS,SAATA,MAAS,CAACvB,GAAD,EAAMC,GAAN,EAAc;AAC3B,MAAIuB,MAAM,IAAI/B,OAAOC,IAAP,CAAY+B,MAAhB,CAAuBzB,GAAvB,EAA4BC,GAA5B,CAAV;AACAV,MAAImC,SAAJ,CAAcF,GAAd;AACAjC,MAAIoC,OAAJ,CAAY,EAAZ;AACD,CAJD;AAKAxC,OAAOoC,MAAP,GAAgBA,MAAhB;;AAEA,IAAMK,WAAW,IAAInC,OAAOC,IAAP,CAAYmC,QAAhB,EAAjB;;AAEO,IAAMC,4BAAU,SAAVA,OAAU,MAAO;AAC5BF,WAASE,OAAT,CAAiB,EAAC,WAAWC,GAAZ,EAAjB,EAAmC,eAAO;AACxC,QAAI/B,MAAMgC,IAAI,CAAJ,EAAOC,QAAP,CAAgBC,QAAhB,CAAyBlC,GAAzB,EAAV;AACA,QAAIC,MAAM+B,IAAI,CAAJ,EAAOC,QAAP,CAAgBC,QAAhB,CAAyBjC,GAAzB,EAAV;AACAsB,WAAOvB,GAAP,EAAYC,GAAZ;AACD,GAJD;AAKD,CANM,C;;;;;;;;;;;;AC3DA,IAAMkC,kCAAa,SAAbA,UAAa,MAAO;AAC/B9C,IAAE,WAAF,EAAe+C,IAAf,kBAAmCC,IAAIC,UAAvC,SAAqDD,IAAIE,SAAzD;AACAlD,IAAE,YAAF,EAAgBmD,IAAhB,8BAAgDH,IAAI3B,KAApD;AACArB,IAAE,YAAF,EAAgBmD,IAAhB,8BAAgDH,IAAII,KAApD;AACApD,IAAE,cAAF,EAAkBmD,IAAlB,gCAAoDH,IAAIK,OAAxD;AACArD,IAAE,cAAF,EAAkBmD,IAAlB,gCAAoDH,IAAIM,UAAxD;AACAtD,IAAE,cAAF,EAAkBuD,WAAlB,CAA8B,QAA9B;AACAvD,IAAE,iBAAF,EAAqBwD,QAArB,CAA8B,QAA9B;AACD,CARM;;AAUA,IAAMC,4BAAU,SAAVA,OAAU,GAAM;AAC3BzD,IAAE,cAAF,EAAkBwD,QAAlB,CAA2B,QAA3B;AACAxD,IAAE,iBAAF,EAAqBuD,WAArB,CAAiC,QAAjC;AACD,CAHM,C;;;;;;;;;;;;;;ACVP;;AAEO,IAAMG,8CAAmB,SAAnBA,gBAAmB;AAAA,SAC5B1D,EAAE2D,IAAF,CAAO;AACLC,YAAQ,KADH;AAELC,qLAA+KnB,GAA/K,+CAFK;AAGLoB,aAAS;AAAA,aAAOC,cAAcpB,GAAd,CAAP;AAAA;AAHJ,GAAP,CAD4B;AAAA,CAAzB;;AAQP,IAAMoB,gBAAgB,SAAhBA,aAAgB,MAAO;AAC3B,MAAIC,cAAcrB,IAAIsB,KAAJ,CAAUC,OAAV,CAAkBC,IAApC;AACA,MAAIC,qBAAJ;;AAEA,MAAGJ,YAAYK,KAAZ,KAAsB,GAAzB,EAA8B;AAC5B,QAAIC,SAASN,YAAYE,OAAzB;AACAE,mBAAepE,EAAE,+BAAF,EAAmC+C,IAAnC,uBACOuB,OAAOC,KADd,UACwBD,OAAOE,QAAP,KAAoB,GAApB,GAA0B,UAA1B,GAAuCF,OAAOE,QADtE,QAAf;AAED,GAJD,MAIO,IAAGR,YAAYK,KAAZ,KAAsB,GAAzB,EAA8B;AACnCD,mBAAepE,EAAE,SAAF,EAAa+C,IAAb,wFAAf;AACD,GAFM,MAEA;AACL,QAAI0B,YAAYT,YAAYE,OAA5B;AACAE,mBAAepE,EAAE,aAAF,EAAiBmD,IAAjB,uCACca,YAAYK,KAD1B,2BAAf;AAGA,QAAIK,eAAe1E,EAAE,WAAF,CAAnB;AACAyE,cAAUE,OAAV,CAAkB;AAAA,aAAUD,aAAaE,MAAb,UAA2BN,OAAOC,KAAlC,SAA2CD,OAAOE,QAAlD,WAAV;AAAA,KAAlB;AACAJ,iBAAaQ,MAAb,CAAoBF,YAApB;AACA,QAAIG,mBAAmB7E,EAAE,SAAF,EAAa+C,IAAb,kEAAvB;AACAqB,iBAAaQ,MAAb,CAAoBC,gBAApB;AACD;;AAED7E,IAAE,mBAAF,EAAuBmD,IAAvB,CAA4BiB,YAA5B;AACApE,IAAE,mBAAF,EAAuBuD,WAAvB,CAAmC,QAAnC;AACD,CAxBD;;AA0BO,IAAMuB,oCAAc,SAAdA,WAAc,GAAM;AAC/B9E,IAAE,mBAAF,EAAuBwD,QAAvB,CAAgC,QAAhC;AACD,CAFM;;kBASQE,gB;;;;;;;;;AC7Cf;;AACA;;AACA;;AAEA5D,OAAOK,OAAP;;AAIAH,EAAG,YAAM;AACP;AACAA,IAAE,MAAF,EAAU+E,MAAV,CAAiB,UAACC,CAAD,EAAO;AACpBA,MAAEC,cAAF;AACA,QAAIvC,MAAMsC,EAAEE,MAAF,CAASxC,GAAT,CAAayC,KAAvB;AACA,4BAAQC,OAAO1C,GAAP,CAAR;AACA,sCAAiBA,GAAjB;AACA;AACA,WAAO,KAAP;AACD,GAPH;AAQC,CAVH,E","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1f01f94258f1fc812757","import { displayRep } from './rep_display.js';\nimport { hideResults } from './zip_finder.js';\n\nconst hideOverlay = () => {\n  window.setTimeout( () => $(\"#overlay\").remove(), 1000 );\n};\n\nlet map;\n\nexport const initMap = () => {\n  map = new google.maps.Map(document.getElementById('map'), {\n    zoom: 4,\n    center: {lat: 37.0902, lng: -95.71},\n    mapTypeControl: false,\n  });\n\n  let dataUrl = 'https://raw.githubusercontent.com/madrev/sister_district_sandbox/master/reps_added.json';\n  map.data.loadGeoJson(dataUrl, null, hideOverlay);\n\n  map.data.setStyle( feature => {\n    let color = 'gray';\n    if(feature.f[\"REP\"]) {\n      if(feature.f[\"REP\"].party === \"D\") {\n        color=\"blue\";\n      } else if(feature.f[\"REP\"].party === \"R\"){\n        color=\"red\";\n      }\n    }\n    return {\n      fillColor: color,\n      strokeWeight: 0.35\n    };\n  });\n\n  const infowindow = new google.maps.InfoWindow;\n\n  map.data.addListener('click', function(event) {\n  window.feature = event.feature;\n  let districtNum = event.feature.f[\"CD115FP\"];\n  let districtType = (districtNum == \"00\" ? \"at large\" : `District ${districtNum}`);\n  infowindow.setPosition(event.latLng);\n  infowindow.setContent(`${event.feature.f[\"STATE\"]} ${districtType}`);\n  infowindow.open(map);\n  displayRep(event.feature.f[\"REP\"]);\n  hideResults();\n  });\n\n\n};\n\nconst zoomTo = (lat, lng) => {\n  let loc = new google.maps.LatLng(lat, lng);\n  map.setCenter(loc);\n  map.setZoom(12);\n}\nwindow.zoomTo = zoomTo;\n\nconst geocoder = new google.maps.Geocoder();\n\nexport const geocode = zip => {\n  geocoder.geocode({'address': zip}, res => {\n    let lat = res[0].geometry.location.lat();\n    let lng = res[0].geometry.location.lng();\n    zoomTo(lat, lng);\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./map_setup.js","export const displayRep = rep => {\n  $(\"#rep-name\").text(`Your rep is ${rep.first_name} ${rep.last_name}`);\n  $(\"#rep-party\").html(`<strong>Party:</strong> ${rep.party}`);\n  $(\"#rep-phone\").html(`<strong>Phone:</strong> ${rep.phone}`);\n  $(\"#rep-website\").html(`<strong>Website:</strong> ${rep.website}`);\n  $(\"#rep-twitter\").html(`<strong>Twitter:</strong> ${rep.twitter_id}`);\n  $(\"#rep-display\").removeClass(\"hidden\");\n  $(\"#no-rep-results\").addClass(\"hidden\");\n};\n\nexport const hideRep = () => {\n  $(\"#rep-display\").addClass(\"hidden\");\n  $(\"#no-rep-results\").removeClass(\"hidden\");\n};\n\n\n\n// WEBPACK FOOTER //\n// ./rep_display.js","import { geocoder } from \"./map_setup.js\";\n\nexport const retrieveDistrict = zip => (\n    $.ajax({\n      method: \"GET\",\n      url: `https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20json%20where%20url%3D%22https%3A%2F%2Fcongress.api.sunlightfoundation.com%2Fdistricts%2Flocate%3Fzip%3D${zip}%22&format=json&diagnostics=true&callback=`,\n      success: res => appendResults(res)\n    })\n  );\n\nconst appendResults = res => {\n  let jsonResults = res.query.results.json;\n  let districtText;\n\n  if(jsonResults.count === \"1\") {\n    let result = jsonResults.results;\n    districtText = $(\"<p class='district-text'></p>\").text(\n      `Your district is ${result.state}-${(result.district === '0' ? 'at-large' : result.district)}.`);\n  } else if(jsonResults.count === \"0\") {\n    districtText = $(\"<p></p>\").text(`We couldn't find districts for that ZIP code. Please check your entry and try again.`);\n  } else {\n    let resultArr = jsonResults.results;\n    districtText = $(\"<div></div>\").html(`\n      <p>Your ZIP code crosses ${jsonResults.count} districts:</p>\n    `);\n    let districtList = $(\"<ul></ul>\");\n    resultArr.forEach(result => districtList.append(`<li>${result.state}-${result.district}</li>`));\n    districtText.append(districtList);\n    let mapReferenceText = $(\"<p></p>\").text(`Click on your neighborhood on the map to reveal your district.`);\n    districtText.append(mapReferenceText);\n  }\n\n  $(\"#district-results\").html(districtText);\n  $(\"#district-results\").removeClass(\"hidden\");\n};\n\nexport const hideResults = () => {\n  $(\"#district-results\").addClass(\"hidden\");\n};\n\n\n\n\n\n\nexport default retrieveDistrict;\n\n\n\n// WEBPACK FOOTER //\n// ./zip_finder.js","import { initMap, geocode } from \"./map_setup.js\";\nimport { retrieveDistrict } from \"./zip_finder.js\";\nimport { hideRep } from \"./rep_display.js\";\n\nwindow.initMap = initMap;\n\n\n\n$( () => {\n  initMap();\n  $(\"form\").submit((e) => {\n      e.preventDefault();\n      let zip = e.target.zip.value;\n      geocode(String(zip));\n      retrieveDistrict(zip);\n      hideRep();\n      return false;\n    });\n  });\n\n\n\n// WEBPACK FOOTER //\n// ./entry.js"],"sourceRoot":""}